import GraphComponent from "./GraphComponent";
import styles from "./AnalyticsContainer.module.css";
import { Canvas, useLoader } from "@react-three/fiber";
import { GLTFLoader, OBJLoader } from "three/examples/jsm/Addons.js";
import { useEffect, useRef, useState } from "react";
import { OrbitControls } from '@react-three/drei';
import * as THREE from 'three';
import { useGLTF } from "@react-three/drei";
import SkeletonViewer from "../skeleton";

const skeletonArray = [
  
  [[0.34087541699409485, -0.05205599218606949, 0.0],
  [0.3208220899105072, -0.03456583246588707, -0.10752315819263458],
  [0.5827347040176392, 0.34588390588760376, -0.07197156548500061],
  [0.3499407172203064, 0.673660159111023, 0.03762198984622955],
  [0.36342039704322815, -0.04666272550821304, 0.10987327247858047],
  [0.527409553527832, 0.235123872756958, 0.24123132228851318],
  [0.2953011691570282, 0.4727708697319031, 0.3486800193786621],
  [0.47332489490509033, -0.3006497025489807, -0.06187763810157776],
  [0.6248446702957153, -0.5516719222068787, -0.13599509000778198],
  [0.7336446046829224, -0.5904500484466553, -0.2143084555864334],
  [0.7285608053207397, -0.7558956146240234, -0.2238788604736328],
  [0.6655110716819763, -0.47291290760040283, 0.0027194321155548096],
  [0.8108290433883667, -0.34557807445526123, 0.05739244446158409],
  [0.9575477242469788, -0.40537649393081665, -0.08552385866641998],
  [0.4913919270038605, -0.5304605960845947, -0.2128848433494568],
  [0.290904700756073, -0.3958243131637573, -0.2836551070213318],
  [0.422305166721344, -0.3710232377052307, -0.3434324860572815]],
  
  [[0.3012135326862335, -0.04691866412758827, -0.0023631113581359386],
  [0.2889832854270935, -0.028148028999567032, -0.10801467299461365],
  [0.5661253929138184, 0.34003692865371704, -0.05735815316438675],
  [0.3435790240764618, 0.6742755770683289, 0.04280083626508713],
  [0.31681734323501587, -0.045514293015003204, 0.11042402684688568],
  [0.4846612513065338, 0.21940773725509644, 0.26702648401260376],
  [0.28354716300964355, 0.4745030105113983, 0.354877769947052],
  [0.4314473867416382, -0.29554107785224915, -0.05942831560969353],
  [0.5806305408477783, -0.5410840511322021, -0.13430888950824738],
  [0.6945529580116272, -0.562100887298584, -0.20011702179908752],
  [0.7019673585891724, -0.7377383708953857, -0.22114256024360657],
  [0.6090686917304993, -0.47359874844551086, 0.011710792779922485],
  [0.7031371593475342, -0.34597909450531006, 0.11016575992107391],
  [0.876065731048584, -0.37447383999824524, -0.02367824874818325],
  [0.4665346145629883, -0.508110761642456, -0.21952654421329498],
  [0.30645930767059326, -0.354323148727417, -0.2959599494934082],
  [0.36322784423828125, -0.29371193051338196, -0.34754735231399536]],
  
  [[0.26490333676338196, -0.039629481732845306, -0.0020835925824940205],
  [0.2558667063713074, -0.01760898530483246, -0.1075846403837204],
  [0.5528208613395691, 0.3398485779762268, -0.041601866483688354],
  [0.33548328280448914, 0.674239993095398, 0.055869657546281815],
  [0.26499268412590027, -0.042676351964473724, 0.11104100197553635],
  [0.437264084815979, 0.20407764613628387, 0.2943122386932373],
  [0.273575097322464, 0.47738420963287354, 0.35908421874046326],
  [0.38929814100265503, -0.2918841242790222, -0.056754373013973236],
  [0.5310424566268921, -0.5428146719932556, -0.13325653970241547],
  [0.6629388332366943, -0.5680128335952759, -0.19395026564598083],
  [0.6667323112487793, -0.7433651685714722, -0.2189469039440155],
  [0.5208775401115417, -0.4953503906726837, 0.02506786398589611],
  [0.5727759003639221, -0.35623645782470703, 0.16367244720458984],
  [0.7619629502296448, -0.35189390182495117, 0.05947304889559746],
  [0.44451963901519775, -0.4825875163078308, -0.2208421528339386],
  [0.33974653482437134, -0.29026663303375244, -0.29653844237327576],
  [0.3494389057159424, -0.2155906856060028, -0.3352474868297577]],
  
  [[0.2252151221036911, -0.03417103365063667, -0.0018148558447137475],
  [0.22937916219234467, -0.01195543073117733, -0.10643187165260315],
  [0.5282219648361206, 0.33424949645996094, -0.012485729530453682],
  [0.32028093934059143, 0.6806462407112122, 0.07063750922679901],
  [0.2098996788263321, -0.04300510883331299, 0.11246278882026672],
  [0.3770822286605835, 0.1827492117881775, 0.32299548387527466],
  [0.26749277114868164, 0.4719785153865814, 0.3675583004951477],
  [0.34176596999168396, -0.29348427057266235, -0.050217900425195694],
  [0.4756787419319153, -0.5525834560394287, -0.1317685842514038],
  [0.629592776298523, -0.581943929195404, -0.186739981174469],
  [0.6249274015426636, -0.7570996284484863, -0.21308663487434387],
  [0.4199984073638916, -0.5274904370307922, 0.02878313511610031],
  [0.43536579608917236, -0.3895089030265808, 0.20039570331573486],
  [0.617241382598877, -0.3639945089817047, 0.13620823621749878],
  [0.42709967494010925, -0.4614887833595276, -0.21849443018436432],
  [0.37528473138809204, -0.23200339078903198, -0.2963275909423828],
  [0.3607940375804901, -0.14758270978927612, -0.3190178871154785]],
  
  [[0.18741396069526672, -0.0378597117960453, -0.0021870722994208336],
  [0.19986054301261902, -0.014457915909588337, -0.1038256287574768],
  [0.4839167594909668, 0.31745392084121704, 0.033654697239398956],
  [0.30450230836868286, 0.6872251629829407, 0.08216048032045364],
  [0.160737544298172, -0.04729239642620087, 0.11125145107507706],
  [0.3240523934364319, 0.17598190903663635, 0.3354370594024658],
  [0.24253037571907043, 0.47061026096343994, 0.3666238784790039],
  [0.29157495498657227, -0.30529263615608215, -0.04756159707903862],
  [0.4159475564956665, -0.5737897753715515, -0.12839709222316742],
  [0.578432559967041, -0.6089788675308228, -0.17604400217533112],
  [0.5734727382659912, -0.7854040861129761, -0.207280233502388],
  [0.3236675560474396, -0.557316780090332, 0.02411658503115177],
  [0.3075069189071655, -0.42327016592025757, 0.21059241890907288],
  [0.4693003296852112, -0.3935742676258087, 0.1801421046257019],
  [0.38820022344589233, -0.4762382507324219, -0.21631726622581482],
  [0.41463223099708557, -0.22054025530815125, -0.2906235158443451],
  [0.39233919978141785, -0.15623918175697327, -0.2883794903755188]],
  
  [[0.14017415046691895, -0.04488459974527359, -0.0022823824547231197],
  [0.1629975438117981, -0.02695740945637226, -0.09996697306632996],
  [0.41824087500572205, 0.2783246636390686, 0.09926171600818634],
  [0.2822090983390808, 0.6843608617782593, 0.10345713794231415],
  [0.10364537686109543, -0.05147930234670639, 0.10900817811489105],
  [0.2286185473203659, 0.17959508299827576, 0.3378298878669739],
  [0.17133304476737976, 0.48589789867401123, 0.3538208305835724],
  [0.2356734275817871, -0.31944823265075684, -0.04604185372591019],
  [0.3463480472564697, -0.5957502722740173, -0.12287850677967072],
  [0.504859447479248, -0.6303465366363525, -0.15645575523376465],
  [0.5052547454833984, -0.810951828956604, -0.19699878990650177],
  [0.22734525799751282, -0.575809895992279, 0.017410999163985252],
  [0.1632234901189804, -0.4552178978919983, 0.20431172847747803],
  [0.32633450627326965, -0.41932573914527893, 0.20012909173965454],
  [0.33052653074264526, -0.5002871155738831, -0.21604633331298828],
  [0.4626874327659607, -0.22602970898151398, -0.27709609270095825],
  [0.43077436089515686, -0.20538295805454254, -0.23438292741775513]],
  
  [[0.10272945463657379, -0.04266490414738655, -0.0027959360741078854],
  [0.13056425750255585, -0.024505527690052986, -0.09944218397140503],
  [0.3650133013725281, 0.25827842950820923, 0.12012814730405807],
  [0.23639509081840515, 0.6760672330856323, 0.11718124151229858],
  [0.061306171119213104, -0.04760431498289108, 0.10839562118053436],
  [0.174844890832901, 0.1905670464038849, 0.3346529006958008],
  [0.09210364520549774, 0.5104798078536987, 0.32480135560035706],
  [0.18563701212406158, -0.32597529888153076, -0.04450276121497154],
  [0.2813280522823334, -0.612537145614624, -0.11883573234081268],
  [0.43799489736557007, -0.647028923034668, -0.14233334362506866],
  [0.43923667073249817, -0.8338115215301514, -0.18961969017982483],
  [0.155601367354393, -0.5865275859832764, 0.013282734900712967],
  [0.06851260364055634, -0.4813583195209503, 0.1981486678123474],
  [0.22028446197509766, -0.4644104242324829, 0.2129240334033966],
  [0.28925788402557373, -0.5157129168510437, -0.21374234557151794],
  [0.4719659984111786, -0.2816716432571411, -0.2648041844367981],
  [0.42351728677749634, -0.33984440565109253, -0.20414656400680542]],
  
  [[0.06172403693199158, -0.05921023339033127, -0.0036086924374103546],
  [0.10455355048179626, -0.041192203760147095, -0.09878493845462799],
  [0.302010715007782, 0.25422951579093933, 0.11664477735757828],
  [0.18044131994247437, 0.671044647693634, 0.12909851968288422],
  [0.019489949569106102, -0.058295272290706635, 0.10947881639003754],
  [0.10507094860076904, 0.207749605178833, 0.31309908628463745],
  [0.003290146589279175, 0.5446799397468567, 0.28518062829971313],
  [0.13072451949119568, -0.3497855067253113, -0.039803653955459595],
  [0.20885801315307617, -0.645543098449707, -0.11002419888973236],
  [0.3602678179740906, -0.678738534450531, -0.12386269867420197],
  [0.3558250069618225, -0.8718706369400024, -0.17607206106185913],
  [0.08067628741264343, -0.616984486579895, 0.01237510796636343],
  [-0.006045224145054817, -0.541379451751709, 0.1948123276233673],
  [0.10959021747112274, -0.5483685731887817, 0.20755456387996674],
  [0.24117383360862732, -0.5589345097541809, -0.20564088225364685],
  [0.438862681388855, -0.4172307252883911, -0.2699567973613739],
  [0.36172276735305786, -0.48088228702545166, -0.1830906867980957]],
  
  [[0.03711894154548645, -0.06732197105884552, -0.002946674358099699],
  [0.06467810273170471, -0.04866752773523331, -0.09589292109012604],
  [0.2837945222854614, 0.26835933327674866, 0.11236357688903809],
  [0.18634706735610962, 0.6840044260025024, 0.1358923614025116],
  [0.01051799301058054, -0.06078755110502243, 0.1116858497262001],
  [0.04995027184486389, 0.21328213810920715, 0.3080820143222809],
  [-0.009556972421705723, 0.5738155841827393, 0.2740028202533722],
  [0.08726051449775696, -0.36151254177093506, -0.03795677050948143],
  [0.14798957109451294, -0.6657952070236206, -0.10848455131053925],
  [0.29553544521331787, -0.7054535746574402, -0.10719981789588928],
  [0.2832145690917969, -0.9067168831825256, -0.16693058609962463],
  [0.07773759961128235, -0.6205703020095825, 0.02449497953057289],
  [0.16091983020305634, -0.5818400979042053, 0.19558987021446228],
  [0.25303250551223755, -0.6282329559326172, 0.1918421983718872],
  [0.17552997171878815, -0.589720606803894, -0.209272563457489],
  [0.14338919520378113, -0.5739216804504395, -0.25420764088630676],
  [0.07867205142974854, -0.6541482210159302, -0.21859200298786163]],
  
  [[0.005034761503338814, -0.07025834172964096, -0.002700554206967354],
  [0.04092511907219887, -0.05247136950492859, -0.09520113468170166],
  [0.25119584798812866, 0.2595469057559967, 0.11947852373123169],
  [0.1437351107597351, 0.6735777854919434, 0.13538289070129395],
  [-0.023970235139131546, -0.06044140085577965, 0.11275702714920044],
  [-0.016176767647266388, 0.2260887324810028, 0.2945864796638489],
  [-0.07941232621669769, 0.5916965007781982, 0.24485087394714355],
  [0.04235941544175148, -0.3726593255996704, -0.03950823098421097],
  [0.0904817283153534, -0.6898816823959351, -0.11135084927082062],
  [0.2390083223581314, -0.7365609407424927, -0.10468217730522156],
  [0.2139865607023239, -0.9395030736923218, -0.16387267410755157],
  [0.019795449450612068, -0.6378016471862793, 0.019566994160413742],
  [0.09868514537811279, -0.6122261881828308, 0.1924123764038086],
  [0.17688316106796265, -0.6757404804229736, 0.19691167771816254],
  [0.13620948791503906, -0.615187406539917, -0.2057708352804184],
  [0.10546279698610306, -0.6113531589508057, -0.2539635896682739],
  [0.024217303842306137, -0.6963175535202026, -0.20746096968650818]],
  
  [[-0.03971217945218086, -0.06337049603462219, -0.00311522139236331],
  [0.030348673462867737, -0.04851977527141571, -0.08725805580615997],
  [0.23917967081069946, 0.25682857632637024, 0.12971065938472748],
  [0.1653795838356018, 0.6809587478637695, 0.15189887583255768],
  [-0.10444333404302597, -0.054986558854579926, 0.10114555060863495],
  [-0.08330094069242477, 0.2527013123035431, 0.2719866931438446],
  [-0.23902527987957, 0.6199915409088135, 0.1709829568862915],
  [-0.006904895417392254, -0.378335177898407, -0.04310976341366768],
  [0.018941931426525116, -0.7101351618766785, -0.10944095253944397],
  [0.17162823677062988, -0.7701519727706909, -0.10715854912996292],
  [0.12750700116157532, -0.9666366577148438, -0.16120222210884094],
  [-0.1157420426607132, -0.6538518667221069, -0.004692560061812401],
  [-0.23737505078315735, -0.6198759078979492, 0.1516972780227661],
  [-0.24510502815246582, -0.6917209625244141, 0.17795032262802124],
  [0.14457789063453674, -0.6298743486404419, -0.18607312440872192],
  [0.24227085709571838, -0.6899842023849487, -0.2352904975414276],
  [0.21585628390312195, -0.7500398755073547, -0.16841143369674683]],
  
  [[-0.08113586902618408, -0.06282836198806763, -0.002386363921687007],
  [-0.003152297344058752, -0.0527217835187912, -0.08364813029766083],
  [0.213747039437294, 0.26009637117385864, 0.1342773586511612],
  [0.21630123257637024, 0.6890662312507629, 0.159077450633049],
  [-0.15374338626861572, -0.054745808243751526, 0.09925102442502975],
  [-0.1506819725036621, 0.2679489850997925, 0.2537418603897095],
  [-0.32013437151908875, 0.6360658407211304, 0.14360348880290985],
  [-0.05912751331925392, -0.38612043857574463, -0.04446626454591751],
  [-0.05163237825036049, -0.7310491800308228, -0.11619235575199127],
  [0.10311327874660492, -0.809527575969696, -0.1141040176153183],
  [0.04084515571594238, -1.00298273563385, -0.1681906133890152],
  [-0.19026778638362885, -0.6670651435852051, -0.012706615030765533],
  [-0.34445950388908386, -0.6175333261489868, 0.12903326749801636],
  [-0.3625149726867676, -0.6766105890274048, 0.16289252042770386],
  [0.09712469577789307, -0.6468254923820496, -0.18195697665214539],
  [0.2389512062072754, -0.7013716697692871, -0.22220471501350403],
  [0.23882323503494263, -0.7900586128234863, -0.1545691341161728]],
  
  [[-0.11282750964164734, -0.05318599194288254, -0.0025812191888689995],
  [-0.036174990236759186, -0.04284336045384407, -0.07799318432807922],
  [0.19473904371261597, 0.27152591943740845, 0.12666799128055573],
  [0.21685731410980225, 0.6993801593780518, 0.15622395277023315],
  [-0.18684996664524078, -0.038937635719776154, 0.09280544519424438],
  [-0.1760273426771164, 0.29017823934555054, 0.24077551066875458],
  [-0.3284425735473633, 0.654147207736969, 0.126118004322052],
  [-0.10595962405204773, -0.381419837474823, -0.04473695904016495],
  [-0.12009529769420624, -0.7311522960662842, -0.11715055257081985],
  [0.03212263435125351, -0.8300374746322632, -0.11784256994724274],
  [-0.047626130282878876, -1.0191380977630615, -0.17436425387859344],
  [-0.24512887001037598, -0.661443829536438, -0.01738988608121872],
  [-0.37198472023010254, -0.5848655700683594, 0.1275426596403122],
  [-0.37559765577316284, -0.6610355377197266, 0.16373267769813538],
  [0.03601938858628273, -0.6407127380371094, -0.1734347641468048],
  [0.2222801148891449, -0.6654669046401978, -0.21649934351444244],
  [0.1838984191417694, -0.782599151134491, -0.14981570839881897]],
  
  [[-0.14533628523349762, -0.04611462354660034, -0.003268552478402853],
  [-0.08734734356403351, -0.034889139235019684, -0.0733300969004631],
  [0.13063327968120575, 0.298909455537796, 0.11901462078094482],
  [0.07583165168762207, 0.7339684963226318, 0.1264563649892807],
  [-0.2122616171836853, -0.022574540227651596, 0.09940293431282043],
  [-0.20324698090553284, 0.308052122592926, 0.23629465699195862],
  [-0.21415752172470093, 0.7092729806900024, 0.1701582968235016],
  [-0.15631642937660217, -0.3736911714076996, -0.041225042194128036],
  [-0.1823662966489792, -0.7250107526779175, -0.11887097358703613],
  [-0.0385851226747036, -0.8404216766357422, -0.11470616608858109],
  [-0.12930382788181305, -1.025775671005249, -0.17424753308296204],
  [-0.2710752487182617, -0.6443548202514648, -0.0076537239365279675],
  [-0.20055116713047028, -0.5791915655136108, 0.13793575763702393],
  [-0.17929506301879883, -0.6995436549186707, 0.1837884932756424],
  [-0.07439018040895462, -0.6388602256774902, -0.17647740244865417],
  [0.02411498688161373, -0.6578993797302246, -0.22527922689914703],
  [-0.08385719358921051, -0.7512044906616211, -0.15900012850761414]],
  
  [[-0.19966910779476166, -0.019105445593595505, -0.003007919993251562],
  [-0.11934502422809601, -0.010015951469540596, -0.07163392007350922],
  [0.12524564564228058, 0.3071506917476654, 0.12185344099998474],
  [0.19425150752067566, 0.737478494644165, 0.14103032648563385],
  [-0.2746908664703369, -0.003147176466882229, 0.08565674722194672],
  [-0.27184128761291504, 0.3561449944972992, 0.2104438692331314],
  [-0.3639305830001831, 0.736211895942688, 0.10380794107913971],
  [-0.20807978510856628, -0.35368531942367554, -0.046404801309108734],
  [-0.23920376598834991, -0.7093262672424316, -0.11913490295410156],
  [-0.10020425915718079, -0.834471583366394, -0.11912531405687332],
  [-0.21479693055152893, -1.0202677249908447, -0.18329796195030212],
  [-0.3840217888355255, -0.6255924701690674, -0.03246443346142769],
  [-0.5344958305358887, -0.4752829372882843, 0.08774524927139282],
  [-0.6138501763343811, -0.5166423916816711, 0.10353705286979675],
  [-0.061511795967817307, -0.605912446975708, -0.152938574552536],
  [0.2162238359451294, -0.5066631436347961, -0.16307984292507172],
  [0.15938957035541534, -0.7449965476989746, -0.13398796319961548]],
  
  [[-0.26653897762298584, 0.021636132150888443, -0.004720490891486406],
  [-0.17340987920761108, 0.02496543526649475, -0.06553703546524048],
  [0.09459711611270905, 0.31113284826278687, 0.1429649293422699],
  [0.18325147032737732, 0.7579069137573242, 0.13316509127616882],
  [-0.34986674785614014, 0.038883112370967865, 0.07672300189733505],
  [-0.33677345514297485, 0.43533721566200256, 0.1621682196855545],
  [-0.4207925796508789, 0.8197704553604126, 0.07359323650598526],
  [-0.2772374153137207, -0.31929951906204224, -0.044171951711177826],
  [-0.31014037132263184, -0.6778324246406555, -0.11549359560012817],
  [-0.1764998733997345, -0.8075340986251831, -0.11510829627513885],
  [-0.29714351892471313, -0.9974070191383362, -0.18383678793907166],
  [-0.5044800043106079, -0.581729531288147, -0.04998406022787094],
  [-0.6838623285293579, -0.3861342668533325, 0.03899756446480751],
  [-0.7014445066452026, -0.4418313205242157, 0.08069057762622833],
  [-0.12575781345367432, -0.5695763826370239, -0.13531017303466797],
  [0.18474695086479187, -0.42703890800476074, -0.12656305730342865],
  [0.16982856392860413, -0.6993820071220398, -0.10879766196012497]],
  
  [[-0.3134194314479828, 0.05791674926877022, -0.006166588049381971],
  [-0.21153992414474487, 0.05895950272679329, -0.05944020301103592],
  [0.05568812042474747, 0.3168138861656189, 0.1583096981048584],
  [0.1572820246219635, 0.7872936725616455, 0.11459618806838989],
  [-0.40797656774520874, 0.07649821788072586, 0.06786849349737167],
  [-0.4074874520301819, 0.504948079586029, 0.12882354855537415],
  [-0.5269994735717773, 0.8924039602279663, 0.05654728785157204],
  [-0.3303101658821106, -0.28750014305114746, -0.04062875360250473],
  [-0.3654484152793884, -0.6476103067398071, -0.11000348627567291],
  [-0.23194009065628052, -0.7843435406684875, -0.11225556582212448],
  [-0.34971368312835693, -0.9722394943237305, -0.17973493039608002],
  [-0.5734820365905762, -0.5332494974136353, -0.05467846617102623],
  [-0.7628761529922485, -0.3227089047431946, 0.015809111297130585],
  [-0.7760928869247437, -0.3790963590145111, 0.06334205716848373],
  [-0.1776290237903595, -0.5341478586196899, -0.12265778332948685],
  [0.13349810242652893, -0.3620530962944031, -0.10633304715156555],
  [0.15563896298408508, -0.6355077028274536, -0.08400905132293701]],

  [[-0.3481406271457672, 0.08127745985984802, -0.007058063521981239],
  [-0.24426694214344025, 0.0859895795583725, -0.054164279252290726],
  [0.021313844248652458, 0.31335973739624023, 0.1730874478816986],
  [0.0991574078798294, 0.815987229347229, 0.0986066460609436],
  [-0.4494428038597107, 0.1064894050359726, 0.06348666548728943],
  [-0.45122620463371277, 0.5394931435585022, 0.11567814648151398],
  [-0.5752353668212891, 0.9256837368011475, 0.0538414902985096],
  [-0.37062159180641174, -0.2659885883331299, -0.03901617228984833],
  [-0.4085460901260376, -0.6303273439407349, -0.10862350463867188],
  [-0.27973687648773193, -0.7765225768089294, -0.114153653383255],
  [-0.40053674578666687, -0.9590573310852051, -0.1796097755432129],
  [-0.6223424673080444, -0.5071945190429688, -0.060346558690071106],
  [-0.8181102275848389, -0.282819926738739, -0.0033199582248926163],
  [-0.8407527208328247, -0.33273011445999146, 0.04769464209675789],
  [-0.21654143929481506, -0.5147691965103149, -0.1154056191444397],
  [0.09507394582033157, -0.3206021189689636, -0.09092395752668381],
  [0.13536226749420166, -0.586905837059021, -0.06225799024105072]]
]

const AnalyticsContainer = () => {
  const [posCount, setPosCount] = useState(1)

  function Model() {
    const { scene } = useGLTF('https://raw.githubusercontent.com/milkevich/Vidify/main/src/Skeleton.glb');

    useEffect(() => {
      if (scene) {
            console.log(scene);
            const root = scene.getObjectByName("body");
            const rhip = scene.getObjectByName("thighR");
            const rkne = scene.getObjectByName("shinR");
            const rank = scene.getObjectByName("footR");
            const lhip = scene.getObjectByName("thighL");
            const lkne = scene.getObjectByName("shinL");
            const lank = scene.getObjectByName("footL");
            const belly = scene.getObjectByName('chest');
            const neck = scene.getObjectByName('neck');
            const nose = scene.getObjectByName('head');
            const head = scene.getObjectByName('head');
            const lsho = scene.getObjectByName('shoulderL');
            const lelb = scene.getObjectByName('upper_armL');
            const lwri = scene.getObjectByName('forearmL');
            const rsho = scene.getObjectByName('shoulderR');
            const relb = scene.getObjectByName('upper_armR');
            const rwri = scene.getObjectByName('forearmR');
        
            if (root && rhip && rkne && rank && lhip && lkne && lank && belly && neck && nose && head && lsho && lelb && lwri && rsho && relb && rwri) {
              const originalPositions = [
                  root.position, rhip.position, rkne.position, rank.position, lhip.position,
                  lkne.position, lank.position, belly.position, neck.position, nose.position,
                  head.position, lsho.position, lelb.position, lwri.position, rsho.position,
                  relb.position, rwri.position
              ];
          
              originalPositions.forEach((position, index) => {
                  const original = new THREE.Vector3().copy(position);
                  const offset = new THREE.Vector3(...skeletonArray[posCount][index]);
                  position.add(original, offset);
              });
          }
          // if (root && rhip && rkne && rank && lhip && lkne && lank && belly && neck && nose && head && lsho && lelb && lwri && rsho && relb && rwri) {
          //   root.position.set(skeletonArray[posCount][0][0], skeletonArray[posCount][0][1], skeletonArray[posCount][0][2]);
          //   rhip.position.set(skeletonArray[posCount][1][0], skeletonArray[posCount][1][1], skeletonArray[posCount][1][2]);
          //   rkne.position.set(skeletonArray[posCount][2][0], skeletonArray[posCount][2][1], skeletonArray[posCount][2][2]);
          //   rank.position.set(skeletonArray[posCount][3][0], skeletonArray[posCount][3][1], skeletonArray[posCount][3][2]);
          //   lhip.position.set(skeletonArray[posCount][4][0], skeletonArray[posCount][4][1], skeletonArray[posCount][4][2]);
          //   lkne.position.set(skeletonArray[posCount][5][0], skeletonArray[posCount][5][1], skeletonArray[posCount][5][2]);
          //   lank.position.set(skeletonArray[posCount][6][0], skeletonArray[posCount][6][1], skeletonArray[posCount][6][2]);
          //   belly.position.set(skeletonArray[posCount][7][0], skeletonArray[posCount][7][1], skeletonArray[posCount][7][2]);
          //   neck.position.set(skeletonArray[posCount][8][0], skeletonArray[posCount][8][1], skeletonArray[posCount][8][2]);
          //   nose.position.set(skeletonArray[posCount][9][0], skeletonArray[posCount][9][1], skeletonArray[posCount][9][2]);
          //   head.position.set(skeletonArray[posCount][10][0], skeletonArray[posCount][10][1], skeletonArray[posCount][10][2]);
          //   lsho.position.set(skeletonArray[posCount][11][0], skeletonArray[posCount][11][1], skeletonArray[posCount][11][2]);
          //   lelb.position.set(skeletonArray[posCount][12][0], skeletonArray[posCount][12][1], skeletonArray[posCount][12][2]);
          //   lwri.position.set(skeletonArray[posCount][13][0], skeletonArray[posCount][13][1], skeletonArray[posCount][13][2]);
          //   rsho.position.set(skeletonArray[posCount][14][0], skeletonArray[posCount][14][1], skeletonArray[posCount][14][2]);
          //   relb.position.set(skeletonArray[posCount][15][0], skeletonArray[posCount][15][1], skeletonArray[posCount][15][2]);
          //   rwri.position.set(skeletonArray[posCount][16][0], skeletonArray[posCount][16][1], skeletonArray[posCount][16][2]);
          // }
          }
        }, [scene]);
        

    if (!scene) return null;

    return (
      <primitive object={scene} />
    );
  }

  return (
    <section className={styles.analyticsContainer}>
      <div className={styles.analyticsStructure}>
        <div className={styles.analyticsNavigation}>
          <Canvas style={{ width: "100%", height: "250px", backgroundColor: "var(--dark-dark-3)", borderRadius: "var(--br-xs)" }}>
            <directionalLight color="white" intensity={1} position={[5, 10, 5]} />
            <directionalLight color="white" intensity={1} position={[-5, -10, -5]} />
            <mesh scale={0.9} position={[0, -2.8, 0]}>
              <Model />
            </mesh>
            <OrbitControls
              enableRotate
              enableZoom={false}
              enablePan={false}
              maxPolarAngle={Math.PI / 2}
            />
          </Canvas>
        </div>
        <div className={styles.navigationRight}>
          <div className={styles.navigationRightContent}>
            <div className={styles.autoLayoutVertical}></div>
            <h3 className={styles.analytics}>Analytics</h3>
            <div className={styles.autoLayoutHorizontal1}>
              <GraphComponent />
              <GraphComponent />
            </div>
          </div>
        </div>
      </div>
    </section>
  );
};

export default AnalyticsContainer;
